<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>宫城</title>
  <subtitle>Talk is cheap,show me the code.</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yuzeyang.github.io/"/>
  <updated>2016-05-12T08:45:07.000Z</updated>
  <id>http://yuzeyang.github.io/</id>
  
  <author>
    <name>宫城</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hexo搭建GitHub blog</title>
    <link href="http://yuzeyang.github.io/2016/04/29/hexo_build_github_blog/"/>
    <id>http://yuzeyang.github.io/2016/04/29/hexo_build_github_blog/</id>
    <published>2016-04-28T16:00:00.000Z</published>
    <updated>2016-05-12T08:45:07.000Z</updated>
    
    <content type="html">&lt;p&gt;如果你厌倦了使用了第三方的博客平台，你可以考虑一下用hexo和github来搭建自己的博客&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;用hexo来搭建github blog很简单，只需要五步~&lt;/p&gt;
&lt;h4 id=&quot;1-_u5728github_u4E0A_u9762_u65B0_u5EFA_u4E00_u4E2A_u4ED3_u5E93&quot;&gt;&lt;a href=&quot;#1-_u5728github_u4E0A_u9762_u65B0_u5EFA_u4E00_u4E2A_u4ED3_u5E93&quot; class=&quot;headerlink&quot; title=&quot;1.在github上面新建一个仓库&quot;&gt;&lt;/a&gt;1.在github上面新建一个仓库&lt;/h4&gt;&lt;p&gt;首先我们需要在自己的github上新建一个仓库，将仓库的命名为xxx.github.io，一定要按该格式命名，否则不能搭建成功&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h4 id=&quot;2-_u914D_u7F6E_u73AF_u5883&quot;&gt;&lt;a href=&quot;#2-_u914D_u7F6E_u73AF_u5883&quot; class=&quot;headerlink&quot; title=&quot;2.配置环境&quot;&gt;&lt;/a&gt;2.配置环境&lt;/h4&gt;&lt;p&gt;在使用搭建之前，我们需要配置好下面环境&lt;/p&gt;
&lt;h4 id=&quot;u5B89_u88C5Homebrew&quot;&gt;&lt;a href=&quot;#u5B89_u88C5Homebrew&quot; class=&quot;headerlink&quot; title=&quot;安装Homebrew&quot;&gt;&lt;/a&gt;安装Homebrew&lt;/h4&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ ruby -e &amp;#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&amp;#34;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;u5B89_u88C5node-js&quot;&gt;&lt;a href=&quot;#u5B89_u88C5node-js&quot; class=&quot;headerlink&quot; title=&quot;安装node.js&quot;&gt;&lt;/a&gt;安装node.js&lt;/h4&gt;&lt;p&gt;node.js集成带有了npm&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ brew install node&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;u5B89_u88C5hexo-cli&quot;&gt;&lt;a href=&quot;#u5B89_u88C5hexo-cli&quot; class=&quot;headerlink&quot; title=&quot;安装hexo-cli&quot;&gt;&lt;/a&gt;安装hexo-cli&lt;/h4&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sudo npm install -g hexo-cli&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;3-_u5728blog_u76EE_u5F55_u4E0B_uFF0C_u521D_u59CB_u5316hexo&quot;&gt;&lt;a href=&quot;#3-_u5728blog_u76EE_u5F55_u4E0B_uFF0C_u521D_u59CB_u5316hexo&quot; class=&quot;headerlink&quot; title=&quot;3.在blog目录下，初始化hexo&quot;&gt;&lt;/a&gt;3.在blog目录下，初始化hexo&lt;/h4&gt;&lt;p&gt;接下来我们需要新建一个文件夹来存放blog内容，假设我新建了一个blog文件夹，然后我cd到该路径下面，然后我们需要对该目录进行初始化，运行&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo init $&amp;#123;blog&amp;#36335;&amp;#24452;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://7xtit4.com2.z0.glb.clouddn.com/hexoinit.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;（图中中间出现的报错不要在意，因为我使用了插件，提示未找到该插件）&lt;/p&gt;
&lt;h4 id=&quot;4-_u751F_u6210_u9759_u6001_u9875_u9762&quot;&gt;&lt;a href=&quot;#4-_u751F_u6210_u9759_u6001_u9875_u9762&quot; class=&quot;headerlink&quot; title=&quot;4.生成静态页面&quot;&gt;&lt;/a&gt;4.生成静态页面&lt;/h4&gt;&lt;p&gt;初始化好之后，我们先来看看页面是不是能正常显示打开了，运行&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo g&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;等同于&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo generate&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;u6CE8_u610F_uFF1A&quot;&gt;&lt;a href=&quot;#u6CE8_u610F_uFF1A&quot; class=&quot;headerlink&quot; title=&quot;注意：&quot;&gt;&lt;/a&gt;注意：&lt;/h4&gt;&lt;p&gt;第一次部署的时候会因为找不到git而报错，需要安装下，再提交一次&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ npm install hexo-deployer-git --save&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://7xtit4.com2.z0.glb.clouddn.com/hexog.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;5-_u521D_u59CB_u5316_u4F9D_u8D56&quot;&gt;&lt;a href=&quot;#5-_u521D_u59CB_u5316_u4F9D_u8D56&quot; class=&quot;headerlink&quot; title=&quot;5.初始化依赖&quot;&gt;&lt;/a&gt;5.初始化依赖&lt;/h4&gt;&lt;p&gt;在第一次安装运行时，我们需要初始化依赖，否则后面启动服务或者生成静态界面会出错…&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ npm install&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;6-_u542F_u52A8_u670D_u52A1&quot;&gt;&lt;a href=&quot;#6-_u542F_u52A8_u670D_u52A1&quot; class=&quot;headerlink&quot; title=&quot;6.启动服务&quot;&gt;&lt;/a&gt;6.启动服务&lt;/h4&gt;&lt;p&gt;然后我们启动一下服务看看，我们的博客是不是能打开了&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://7xtit4.com2.z0.glb.clouddn.com/hexoserver.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;我们打开&lt;a href=&quot;http://0.0.0.0:4000/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://0.0.0.0:4000/&lt;/a&gt;看看，如果前面一切顺利的话，你就能看到你搭建成功的博客了~（注意此时打开的还不是自己的github博客地址哦，只是hexo默认配置的地址）&lt;/p&gt;
&lt;h4 id=&quot;7-_u4FEE_u6539blog_u76EE_u5F55_u4E0B_u7684_config-yml_u914D_u7F6E_u6587_u4EF6&quot;&gt;&lt;a href=&quot;#7-_u4FEE_u6539blog_u76EE_u5F55_u4E0B_u7684_config-yml_u914D_u7F6E_u6587_u4EF6&quot; class=&quot;headerlink&quot; title=&quot;7.修改blog目录下的_config.yml配置文件&quot;&gt;&lt;/a&gt;7.修改blog目录下的_config.yml配置文件&lt;/h4&gt;&lt;p&gt;接下来我们需要将hexo打开的博客地址改成自己的地址，打开blog目录下面的_config.yml文件，找到deploy，将部署类型改成git或者GItHub，仓库改成自己的github blog地址格式，分支改成master，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;deploy:&amp;#10;  type: git    #&amp;#37096;&amp;#32626;&amp;#31867;&amp;#22411;&amp;#10;  repository: https://github.com/Yuzeyang/yuzeyang.github.io.git   #&amp;#37096;&amp;#32626;&amp;#30340;&amp;#20179;&amp;#24211;&amp;#30340;SSH&amp;#10;  branch: master   #&amp;#37096;&amp;#32626;&amp;#20998;&amp;#25903;,&amp;#19968;&amp;#33324;&amp;#20351;&amp;#29992;master&amp;#20027;&amp;#20998;&amp;#25903;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;注意：type/repository/branch:和内容之间是有空格的，而且是一定要有的，否则在重新生成静态页面的时候，会找不到仓库路径&lt;/p&gt;
&lt;h4 id=&quot;8-_u9009_u53D6_u559C_u6B22_u7684_u4E3B_u9898&quot;&gt;&lt;a href=&quot;#8-_u9009_u53D6_u559C_u6B22_u7684_u4E3B_u9898&quot; class=&quot;headerlink&quot; title=&quot;8.选取喜欢的主题&quot;&gt;&lt;/a&gt;8.选取喜欢的主题&lt;/h4&gt;&lt;p&gt;作为爱装逼的程序员怎么能用默认的主题呢，我们可以先在hexo主题网赚挑选一个自己喜欢的主题：&lt;a href=&quot;https://hexo.io/themes/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;hexo主题&lt;/a&gt;，当然你有一定的前端基础可以自己写一套主题玩玩，分享给大家&lt;/p&gt;
&lt;h4 id=&quot;9-_u91CD_u65B0_u90E8_u7F72_u4F60_u7684_u9759_u6001_u7F51_u9875&quot;&gt;&lt;a href=&quot;#9-_u91CD_u65B0_u90E8_u7F72_u4F60_u7684_u9759_u6001_u7F51_u9875&quot; class=&quot;headerlink&quot; title=&quot;9.重新部署你的静态网页&quot;&gt;&lt;/a&gt;9.重新部署你的静态网页&lt;/h4&gt;&lt;p&gt;修改完配置之后，我们重新部署一下，看看效果&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo d -g&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;等同于&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo deploy -generate&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;10-_u518D_u5237_u65B0_u4E00_u4E0B_u4F60_u7684_u7F51_u9875_uFF0CDuang_7E&quot;&gt;&lt;a href=&quot;#10-_u518D_u5237_u65B0_u4E00_u4E0B_u4F60_u7684_u7F51_u9875_uFF0CDuang_7E&quot; class=&quot;headerlink&quot; title=&quot;10.再刷新一下你的网页，Duang~&quot;&gt;&lt;/a&gt;10.再刷新一下你的网页，Duang~&lt;/h4&gt;&lt;p&gt;因为首页图片加载太慢了…我换了个主题…&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xtit4.com2.z0.glb.clouddn.com/blog.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;11-_u4E0A_u4F20_u6587_u7AE0&quot;&gt;&lt;a href=&quot;#11-_u4E0A_u4F20_u6587_u7AE0&quot; class=&quot;headerlink&quot; title=&quot;11.上传文章&quot;&gt;&lt;/a&gt;11.上传文章&lt;/h4&gt;&lt;p&gt;你可以运行&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo new &amp;#34;&amp;#26032;&amp;#30340;&amp;#25991;&amp;#31456;&amp;#26631;&amp;#39064;&amp;#34;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这样会自动生成好&lt;/p&gt;
&lt;figure class=&quot;highlight tex&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;title: Hexo搭建GitHub blog&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;date: 2016-4-29 17:00:00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tags: Hexo&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;---&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;或者， 把文章放到blog/source/._posts目录下面&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xtit4.com2.z0.glb.clouddn.com/upload.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;在文章的内容前面需要加上标题、时间和标签，这样才能在首页显示出你的标题，你也可以添加文章的时间和文章的tag，例如：&lt;/p&gt;
&lt;figure class=&quot;highlight tex&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;title: Hexo搭建GitHub blog&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;date: 2016-4-29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tags: Hexo&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;---&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;再起一下服务，看看有没有修改成功&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;修改成功后，再重新部署一下&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo d -g&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;最后再确认一下&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xtit4.com2.z0.glb.clouddn.com/update.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;上传成功~！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;如果你厌倦了使用了第三方的博客平台，你可以考虑一下用hexo和github来搭建自己的博客&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;用hexo来搭建github blog很简单，只需要五步~&lt;/p&gt;
&lt;h4 id=&quot;1-_u5728github_u4E0A_u9762_u65B0_u5EFA_u4E00_u4E2A_u4ED3_u5E93&quot;&gt;&lt;a href=&quot;#1-_u5728github_u4E0A_u9762_u65B0_u5EFA_u4E00_u4E2A_u4ED3_u5E93&quot; class=&quot;headerlink&quot; title=&quot;1.在github上面新建一个仓库&quot;&gt;&lt;/a&gt;1.在github上面新建一个仓库&lt;/h4&gt;&lt;p&gt;首先我们需要在自己的github上新建一个仓库，将仓库的命名为xxx.github.io，一定要按该格式命名，否则不能搭建成功&lt;/p&gt;
    
    </summary>
    
    
      <category term="Hexo" scheme="http://yuzeyang.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>TextField字数限制处理</title>
    <link href="http://yuzeyang.github.io/2015/09/17/TextField_count_limit_handle/"/>
    <id>http://yuzeyang.github.io/2015/09/17/TextField_count_limit_handle/</id>
    <published>2015-09-17T14:40:44.000Z</published>
    <updated>2016-05-16T15:22:17.000Z</updated>
    
    <content type="html">&lt;p&gt;在第三方键盘加入之后，对于字数限制的处理不再像之前那么简单了&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;纯数字、字符输入（不包括粘贴）这样的字数限制还是相对比较简单的，你可以用两种方法进行处理&lt;/p&gt;
&lt;p&gt;第一种是&lt;strong&gt;textfield的delegate&lt;/strong&gt;实现：&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (&lt;span class=&quot;type&quot;&gt;BOOL&lt;/span&gt;)textField:(&lt;span class=&quot;type&quot;&gt;UITextField&lt;/span&gt; *)textField shouldChangeCharactersInRange:(&lt;span class=&quot;type&quot;&gt;NSRange&lt;/span&gt;)range replacementString:(&lt;span class=&quot;type&quot;&gt;NSString&lt;/span&gt; *)string &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (range.length + range.location &amp;gt; textField.text.length) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;type&quot;&gt;NO&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;NSUInteger&lt;/span&gt; newLength = textField.text.length + string.length - range.length;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; newLength&amp;lt;=kMaxCharacterCount;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;第二种&lt;strong&gt;是注册一个通知&lt;/strong&gt;，在textfield编辑时做处理：&lt;/p&gt;
&lt;p&gt;首先你在viewDidLoad中注册通知&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(textFiledEditChanged:) name:UITextFieldTextDidChangeNotification object:self.shopName];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;再实现通知里面的方法，在超过最大值时，取最大的字数&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;if (self.shopName.text.length &amp;#62; kMaxCharacterCount) &amp;#123;&amp;#10;        self.shopName.text = [self.shopName.text substringToIndex:kMaxCharacterCount];&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;但是，在中文的限制上面情况就复杂了，当时在调试的时候，因为使用的是第三方键盘，所以当时没有发现问题，但是在使用系统键盘的时候，一下子就蛋疼了….&lt;/p&gt;
&lt;p&gt;下面我开始分析一下，两者的区别：&lt;/p&gt;
&lt;p&gt;1、第三方键盘在输入字符时，一般是不会将字符直接输入到textfield中，而是将字符显示在它自己的view上方，但是系统键盘会直接输入到textfield中，而且它会占2个字符长度，比如你输入”abcd”，在textfield中显示的是”a b c d”，并且”a b c d”是处在高亮中的，并不算是真正输入到textfield中，所以我们不应把高亮的字符计算在内，我们应该计算真正输入的字符&lt;/p&gt;
&lt;p&gt;2、如果我们使用的是delegate做处理的时候，系统中文输入的时候会有联想，但是联想的那个字并不会调用delegate，比如你输入一个”你”，在系统的联想里面可能会出现”的”,”们”这样的联想，但是你选择”的”的时候，delegate并不会调用，（尼玛….），我猜想联想输入应该不算做keyboard所触发的事件，所以他并不会触发delegate，但是如果你注册的是通知，他倒是会调用，（还好有救）&lt;/p&gt;
&lt;p&gt;另外提醒一下，有时候在自测输入的时候，要考虑全面，比如粘贴这也是一种输入，当时没考虑，我也是跪了&lt;/p&gt;
&lt;p&gt;好了，分析了主要的区别下面我们就来看看具体怎么实现吧~&lt;/p&gt;
&lt;p&gt;在实现注册通知方法里面：&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#pragma mark - UITextViewDelegate&amp;#10;- (void)textViewDidChange:(UITextView *)textView &amp;#123;&amp;#10;    if (textView.text.length == 0) &amp;#123;&amp;#10;        self.recommendTips.hidden = NO;&amp;#10;    &amp;#125;else&amp;#123;&amp;#10;        self.recommendTips.hidden = YES;&amp;#10;    &amp;#125;&amp;#10;    &amp;#10;    NSString *toBeString = textView.text;&amp;#10;    NSString *lang = self.textInputMode.primaryLanguage; // &amp;#38190;&amp;#30424;&amp;#36755;&amp;#20837;&amp;#27169;&amp;#24335;&amp;#10;    if ([lang isEqualToString:@&amp;#34;zh-Hans&amp;#34;]) &amp;#123; // &amp;#31616;&amp;#20307;&amp;#20013;&amp;#25991;&amp;#36755;&amp;#20837;&amp;#65292;&amp;#21253;&amp;#25324;&amp;#31616;&amp;#20307;&amp;#25340;&amp;#38899;&amp;#65292;&amp;#20581;&amp;#20307;&amp;#20116;&amp;#31508;&amp;#65292;&amp;#31616;&amp;#20307;&amp;#25163;&amp;#20889;&amp;#10;        UITextRange *selectedRange = [textView markedTextRange];&amp;#10;        //&amp;#33719;&amp;#21462;&amp;#39640;&amp;#20142;&amp;#37096;&amp;#20998;&amp;#10;        UITextPosition *position = [textView positionFromPosition:selectedRange.start offset:0];&amp;#10;        // &amp;#27809;&amp;#26377;&amp;#39640;&amp;#20142;&amp;#36873;&amp;#25321;&amp;#30340;&amp;#23383;&amp;#65292;&amp;#21017;&amp;#23545;&amp;#24050;&amp;#36755;&amp;#20837;&amp;#30340;&amp;#25991;&amp;#23383;&amp;#36827;&amp;#34892;&amp;#23383;&amp;#25968;&amp;#32479;&amp;#35745;&amp;#21644;&amp;#38480;&amp;#21046;&amp;#10;        if (!position || !selectedRange) &amp;#123;&amp;#10;            if (toBeString.length &amp;#62; 200) &amp;#123;&amp;#10;                textView.text = [toBeString substringToIndex:200];&amp;#10;            &amp;#125;&amp;#10;        &amp;#125;&amp;#10;        // &amp;#26377;&amp;#39640;&amp;#20142;&amp;#36873;&amp;#25321;&amp;#30340;&amp;#23383;&amp;#31526;&amp;#20018;&amp;#65292;&amp;#21017;&amp;#26242;&amp;#19981;&amp;#23545;&amp;#25991;&amp;#23383;&amp;#36827;&amp;#34892;&amp;#32479;&amp;#35745;&amp;#21644;&amp;#38480;&amp;#21046;&amp;#10;        else&amp;#123;&amp;#10;            &amp;#10;        &amp;#125;&amp;#10;    &amp;#125;&amp;#10;    // &amp;#20013;&amp;#25991;&amp;#36755;&amp;#20837;&amp;#27861;&amp;#20197;&amp;#22806;&amp;#30340;&amp;#30452;&amp;#25509;&amp;#23545;&amp;#20854;&amp;#32479;&amp;#35745;&amp;#38480;&amp;#21046;&amp;#21363;&amp;#21487;&amp;#65292;&amp;#19981;&amp;#32771;&amp;#34385;&amp;#20854;&amp;#20182;&amp;#35821;&amp;#31181;&amp;#24773;&amp;#20917;&amp;#10;    else&amp;#123;&amp;#10;        if (toBeString.length &amp;#62; 200) &amp;#123;&amp;#10;            textView.text = [toBeString substringToIndex:200];&amp;#10;        &amp;#125;&amp;#10;    &amp;#125;&amp;#10;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;首先，我们根据键盘的输入模式进行区分，英文的比较简单就和上面一样，直接取最大的字符数就好了，在中文输入的时候，我们用markedTextRange方法获取到当前的光标位置，再用textField positionFromPosition:selectedRange.start offset:0获取到高亮部分，然后判断是否有高亮，这个时候系统会调用两次通知方法，第一次是将高亮的字符输入，第二次是将高亮的字符转换成中文输入（这个时候就没有高亮了，然后再取最大的字符数），但是在iOS7的设备上测试时发现，position都不会为nil，在iOS8以上都正常，但是获取到光标的range，却是正常的&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NS_CLASS_AVAILABLE_IOS(3_2) @interface UITextRange : NSObject&amp;#10;&amp;#10;@property (nonatomic, readonly, getter=isEmpty) BOOL empty;     //  Whether the range is zero-length.&amp;#10;@property (nonatomic, readonly) UITextPosition *start;&amp;#10;@property (nonatomic, readonly) UITextPosition *end;&amp;#10;&amp;#10;@end&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;我们可以看到系统的UITextRange，有两个变量，一个是start，一个是end，这正是对于的高亮区域！&lt;/p&gt;
&lt;p&gt;所以既然position不能使用，那我们干脆就使用range，通过判断range的存在，来对文字进行限制处理。（粘贴也适用）&lt;/p&gt;
&lt;p&gt;结果也是棒棒的！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;在第三方键盘加入之后，对于字数限制的处理不再像之前那么简单了&lt;/p&gt;
    
    </summary>
    
    
      <category term="TextField" scheme="http://yuzeyang.github.io/tags/TextField/"/>
    
  </entry>
  
</feed>
