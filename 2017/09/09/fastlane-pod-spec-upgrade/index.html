<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> ç”¨ Fastlane å‡çº§ç§æœ‰ Pod åº“ Â· å®«åŸ</title><meta name="description" content="ç”¨ Fastlane å‡çº§ç§æœ‰ Pod åº“ - å®«åŸ"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/CaptainAmerica.jpg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yuzeyang.github.io/atom.xml" title="å®«åŸ"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/CaptainAmerica.jpg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/yuzeyang" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">ç”¨ Fastlane å‡çº§ç§æœ‰ Pod åº“</h1><div class="post-info">2017å¹´9æœˆ9æ—¥</div><div class="post-content"><p>æœ€è¿‘æˆ‘ä»¬å®Œæˆäº†ç”¨ <code>Fastlane</code> è‡ªåŠ¨åŒ–æ‰“åŒ…ä¸Šä¼  iTunes Counnet ï¼Œä¸ºäº†å°† Fastlane çš„åŠŸèƒ½è¿›ä¸€æ­¥çš„ä½¿ç”¨ï¼Œåé¢å¸Œæœ›èƒ½å°† Pod é›†æˆå’Œå‡çº§ä¹Ÿè‡ªåŠ¨åŒ–ï¼Œæˆ‘ä¹ŸæŠ½ç©ºç ”ç©¶äº†ä¸€ä¸‹ç§æœ‰ Pod åº“çš„å‡çº§ã€ Fastlane Actionçš„åˆ¶ä½œå’Œ Fastlane Plugin çš„åˆ¶ä½œã€‚</p>
<a id="more"></a>
<p>okï¼Œå¼€å§‹æˆ‘ä»¬çš„æ­£æ–‡ã€‚</p>
<p>é¦–å…ˆï¼Œç®€å•ä»‹ç»ä¸€ä¸‹ <a href="https://github.com/fastlane/fastlane" target="_blank" rel="noopener">Fastlane </a>ï¼Œå®ƒæ˜¯ç”¨ <code>Ruby</code> æ¥å®ç°è‡ªåŠ¨åŒ–æ„å»ºå’Œæ‰“åŒ…çš„å·¥å…·ï¼Œå¹¶ä¸”èƒ½å’Œ <code>Jenkins</code> ç­‰ CI å¹³å°ç»“åˆä½¿ç”¨ã€‚ Fastlane å¯¹äº iOS å¼€å‘æ¥è¯´ï¼Œå®åœ¨æ˜¯å¤ªå‹å¥½ï¼Œä»å®ƒæä¾›çš„ <a href="https://docs.fastlane.tools/actions/" target="_blank" rel="noopener">actions</a> å’Œ <a href="https://docs.fastlane.tools/plugins/available-plugins/" target="_blank" rel="noopener">plugins</a> æ¥çœ‹ï¼Œè¶³ä»¥æ»¡è¶³å¤§éƒ¨åˆ†çš„è‡ªåŠ¨åŒ–ä»»åŠ¡ï¼Œå¦‚æœä¸å¤Ÿçš„è¯ï¼Œå¯ä»¥è‡ªå®šä¹‰ Actionï¼Œå¹¶ä¸”å¯ä»¥åˆ¶ä½œæˆ Plugin æäº¤åˆ° <code>RubyGems</code> ä¸Šä¾›å…¶ä»–å¼€å‘è€…ä½¿ç”¨ã€‚</p>
<h3 id="å‡çº§ç§æœ‰-Pod-åº“"><a href="#å‡çº§ç§æœ‰-Pod-åº“" class="headerlink" title="å‡çº§ç§æœ‰ Pod åº“"></a>å‡çº§ç§æœ‰ Pod åº“</h3><p>å¯¹ Fastlane çš„é…ç½®è¿™é‡Œå°±ä¸è¯´äº†ï¼Œé…ç½®å¥½åæœ€ç®€å•çš„æ–‡ä»¶ç»“æ„å°±æ˜¯åªæœ‰ä¸€ä¸ª <code>Appfile</code> å’Œ <code>Fastfile</code> ï¼ŒAppfile åŒ…å«åˆšæ‰åˆå§‹åŒ–æ—¶é…ç½®ï¼Œè€Œ Fastfile è´Ÿè´£æ‰§è¡Œä»»åŠ¡ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹æˆ‘ä»¬å¹³æ—¶åœ¨å‡çº§ç§æœ‰ Pod åº“æ—¶çš„æ­¥éª¤ï¼ˆçœ‹æ³¨é‡Šéƒ¨åˆ†ï¼‰</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git_pull <span class="comment"># æ‹‰å–æœ€æ–°ä»£ç </span></span><br><span class="line">ensure_git_branch <span class="comment"># ç¡®ä¿å½“å‰æ˜¯ master åˆ†æ”¯</span></span><br><span class="line">pod_spec_lint(<span class="symbol">allow_warnings:</span> <span class="literal">true</span>) <span class="comment"># æ£€æŸ¥ Podspec æœ‰æ•ˆæ€§</span></span><br><span class="line">version_bump_podspec(<span class="symbol">path:</span> path, <span class="symbol">version_number:</span> version) <span class="comment"># ä¿®æ”¹ podspec ä¸­ç‰ˆæœ¬</span></span><br><span class="line">git_commit(<span class="symbol">path:</span> <span class="string">"."</span>, <span class="symbol">message:</span> <span class="string">"update version to <span class="subst">#&#123;version&#125;</span>"</span>) <span class="comment"># commit</span></span><br><span class="line">push_to_git_remote <span class="comment"># æäº¤æœ¬åœ°æ”¹åŠ¨åˆ°è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">add_git_tag(<span class="symbol">tag:</span> version) <span class="comment"># æ·»åŠ  tag</span></span><br><span class="line">push_git_tags <span class="comment"># push æœ¬åœ° tags</span></span><br><span class="line">pod_push(<span class="symbol">path:</span> path, <span class="symbol">allow_warnings:</span> <span class="literal">true</span>) <span class="comment"># push podspec åˆ°ä»“åº“</span></span><br></pre></td></tr></table></figure>
<p>å†å›åˆ°æ³¨é‡Šå¯¹åº”çš„ fastlane å‘½ä»¤ï¼Œå®é™…ä¸Š fastlane çš„ actions é‡Œéƒ½èƒ½æ‰¾åˆ° Pod å¯¹åº”çš„å‘½ä»¤ï¼Œæˆ‘ä»¬å¯¹ç…§æ–‡æ¡£å¡«å……å¥½å‚æ•°ä¹‹åï¼Œæ•´ä¸ªå‡çº§çš„æ ¸å¿ƒåŠŸèƒ½å·²ç»å®ç°äº†ã€‚æœ€åæˆ‘ä»¬è€ƒè™‘å‘½ä»¤éœ€è¦çš„å“ªäº›å…¥å‚ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ Project çš„åå­—å’Œå‡çº§åˆ°å“ªä¸€ä¸ªç‰ˆæœ¬</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">version = options[<span class="symbol">:version</span>]</span><br><span class="line">project = options[<span class="symbol">:project</span>]</span><br></pre></td></tr></table></figure>
<p>å®Œæˆä¹‹åæˆ‘ä»¬åé¢å‡çº§åªéœ€è¦ä¸€è¡Œå‘½ä»¤</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastlane pod_repo_push <span class="symbol">project:</span>[projectname] <span class="symbol">version:</span>[version]</span><br></pre></td></tr></table></figure>
<p>è¯¦è§ï¼š<a href="https://github.com/Yuzeyang/Fastfile/blob/master/fastlane/Fastfile" target="_blank" rel="noopener">Fastfile</a></p>
<h3 id="è‡ªå®šä¹‰-Action"><a href="#è‡ªå®šä¹‰-Action" class="headerlink" title="è‡ªå®šä¹‰ Action"></a>è‡ªå®šä¹‰ Action</h3><p>ä¸Šé¢å‡çº§åº“ä¸­ç”¨åˆ°äº†ä¸€ä¸ªå‘½ä»¤ <code>pod_spec_lint</code> ï¼Œè¿™ä¸ªå¹¶æ²¡æœ‰åœ¨å®˜æ–¹æä¾›çš„ Actions é‡Œï¼Œæ˜¯æˆ‘è‡ªå®šä¹‰çš„ï¼Œä¸ºä»€ä¹ˆè¦ç”¨ pod_spec_lint ä¸ç”¨ <code>pod_lib_lint</code> å‘¢ï¼Ÿå½“æ—¶æˆ‘åœ¨åœ¨æµ‹è¯•å‡çº§çš„æ—¶å€™ï¼ŒæŠŠç§æœ‰åº“æ›´æ–°ä¼ åˆ° Github ä¸Šæ—¶ï¼Œpod_lib_lint éªŒè¯é€šè¿‡ï¼Œä½†æ˜¯ push åˆ° remote çš„æ—¶å€™å°±æŠ¥é”™æºæ–‡ä»¶æ‰¾ä¸åˆ°ï¼Œè¿™å°±è®©æˆ‘å¾ˆçº³é—·äº†</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">[22:46:42]: --------------------------</span><br><span class="line">[22:46:42]: --- Step: pod_lib_lint ---</span><br><span class="line">[22:46:42]: --------------------------</span><br><span class="line">[22:46:42]: $ pod lib lint --allow-warnings</span><br><span class="line">[22:46:52]: â–¸ -&gt; FastlanePodspecDemo (0.1.1)</span><br><span class="line">[22:46:52]: â–¸ - WARN | summary: The summary is not meaningful.</span><br><span class="line">[22:46:52]: â–¸ - WARN | description: The description is equal to the summary.</span><br><span class="line">[22:46:52]: â–¸ - WARN | [iOS] license: Unable to find a license file</span><br><span class="line">[22:46:52]: â–¸ FastlanePodspecDemo passed validation.</span><br><span class="line">[22:46:52]: Pod lib lint Successfully â¬†ï¸</span><br><span class="line">[22:46:52]: ----------------------------------</span><br><span class="line">...</span><br><span class="line">[22:47:34]: --- Step: pod_push ---</span><br><span class="line">[22:47:34]: ----------------------</span><br><span class="line">[22:47:34]: $ pod trunk push &apos;FastlanePodspecDemo.podspec&apos; --allow-warnings</span><br><span class="line">[22:47:34]: â–¸ Updating spec repo master</span><br><span class="line">[22:49:36]: â–¸ CocoaPods 1.3.1 is available.</span><br><span class="line">[22:49:36]: â–¸ To update use: sudo gem install cocoapods</span><br><span class="line">[22:49:36]: â–¸ For more information, see https://blog.cocoapods.org and the CHANGELOG for this version at https://github.com/CocoaPods/CocoaPods/releases/tag/1.3.1</span><br><span class="line">[22:49:36]: â–¸ Validating podspec</span><br><span class="line">[22:49:51]: â–¸ -&gt; FastlanePodspecDemo (0.1.2)</span><br><span class="line">[22:49:51]: â–¸ - WARN | summary: The summary is not meaningful.</span><br><span class="line">[22:49:51]: â–¸ - WARN | description: The description is equal to the summary.</span><br><span class="line">[22:49:51]: â–¸ - ERROR | [iOS] file patterns: The source_files pattern did not match any file.</span><br><span class="line">[22:49:51]: â–¸ - ERROR | [iOS] file patterns: The resources pattern did not match any file.</span><br><span class="line">[22:49:51]: â–¸ - WARN | [iOS] license: Unable to find a license file</span><br><span class="line">[22:49:51]: â–¸ [!] The spec did not pass validation, due to 2 errors.</span><br><span class="line">[22:49:51]: â–¸ [!] The validator for Swift projects uses Swift 3.0 by default, if you are using a different version of swift you can use a .swift-version file to set the version for your Pod. For example to use Swift 2.3, run:</span><br><span class="line">[22:49:51]: â–¸ echo &quot;2.3 &quot; &gt; .swift-version.</span><br></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘çœ‹åˆ°äº†è¿™ç¯‡è§£é‡Š <a href="https://stackoverflow.com/questions/32304421/whats-the-difference-between-pod-spec-lint-and-pod-lib-lint" target="_blank" rel="noopener"><a href="https://stackoverflow.com/questions/32304421/whats-the-difference-between-pod-spec-lint-and-pod-lib-lint" target="_blank" rel="noopener">Whatâ€™s the difference between â€˜pod spec lintâ€™ and â€˜pod lib lintâ€™?</a></a> ï¼Œpod lib lint åªä¼š lint ä½ æœ¬åœ°çš„ pod ï¼Œä»¥åŠç¡®ä¿ä½ æä¾›çš„ä¸œè¥¿æ˜¯å¦æ­£ç¡®ï¼Œä½†æ˜¯ä»£ç æ¨åˆ°è¿œç¨‹åå¦‚æœ lint ä¸è¿‡ä¹Ÿè¿˜æ˜¯æ²¡ç”¨ï¼Œè€Œ pod spec lint é™¤äº† pod lib lint çš„éªŒè¯æ­¥éª¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¼š lint è¿œç¨‹çš„pod ï¼ŒçœŸæ­£ç¡®ä¿ podspec çš„æœ‰æ•ˆæ€§ã€‚</p>
<p>æ‰€ä»¥æˆ‘åŸºäºåŸæ¥çš„ pod_lib_lint å‘½ä»¤åšäº†ç®€å•çš„ä¿®æ”¹ï¼Œé€šè¿‡è¿è¡Œ <code>fatslant new_action</code> ç”Ÿæˆ<code>action/pod_sepc_lint.rb</code> æ–‡ä»¶ï¼Œè¯¦è§ï¼š<a href="https://github.com/Yuzeyang/Fastfile/blob/master/fastlane/actions/pod_spec_lint.rb" target="_blank" rel="noopener">pod_spec_lint.rb</a> ï¼Œå†™å¥½ä¹‹åå¯ä»¥è¿è¡Œ <code>bundle exec rspec</code> è·‘ä¸€ä¸‹æµ‹è¯•æ˜¯å¦èƒ½é€šè¿‡ï¼Œä¹Ÿå¯ä»¥è¿è¡Œ <code>bundle exec rubocop -a</code> æ£€æŸ¥ä¸€ä¸‹ä»£ç æ˜¯å¦ç¬¦åˆ fastlane actionçš„è§„èŒƒã€‚æœ€åæˆ‘è¯•ç€æäº¤ä¸€ä¸ª PR çœ‹çœ‹èƒ½å¦ç»™å®˜æ–¹åŠ ä¸Šï¼Œåæ¥å®˜æ–¹å›åº”å·²ç»ä¸èƒ½åœ¨åŠ  actions äº†ï¼Œåªèƒ½æ·»åŠ åˆ° plugin é‡Œã€‚</p>
<p>åæ¥ä½¿ç”¨è‡ªå®šä¹‰çš„ pod_spec_lint å‘½ä»¤ä¹‹åå°±è§£å†³äº†</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">[22:58:00]: Get started using a Gemfile for fastlane https://docs.fastlane.tools/getting-started/ios/setup/#use-a-gemfile</span><br><span class="line">...</span><br><span class="line">[22:58:06]: --- Step: pod_spec_lint ---</span><br><span class="line">[22:58:06]: ---------------------------</span><br><span class="line">[22:58:06]: $ pod spec lint --allow-warnings</span><br><span class="line">[22:58:19]: â–¸ -&gt; FastlanePodspecDemo (0.1.2)</span><br><span class="line">[22:58:19]: â–¸ - WARN | summary: The summary is not meaningful.</span><br><span class="line">[22:58:19]: â–¸ - WARN | description: The description is equal to the summary.</span><br><span class="line">[22:58:19]: â–¸ - WARN | [iOS] license: Unable to find a license file</span><br><span class="line">[22:58:19]: â–¸ Analyzed 1 podspec.</span><br><span class="line">[22:58:19]: â–¸ FastlanePodspecDemo.podspec passed validation.</span><br><span class="line">[22:58:19]: Pod spec lint Successfully â¬†ï¸</span><br><span class="line">[22:58:19]: ----------------------------------</span><br><span class="line">...</span><br><span class="line">[22:58:40]: --- Step: pod_push ---</span><br><span class="line">[22:58:40]: ----------------------</span><br><span class="line">[22:58:40]: $ pod trunk push &apos;FastlanePodspecDemo.podspec&apos; --allow-warnings</span><br><span class="line">[22:58:41]: â–¸ Updating spec repo master</span><br><span class="line">[23:04:01]: â–¸ CocoaPods 1.3.1 is available.</span><br><span class="line">[23:04:01]: â–¸ To update use: sudo gem install cocoapods</span><br><span class="line">[23:04:01]: â–¸ For more information, see https://blog.cocoapods.org and the CHANGELOG for this version at https://github.com/CocoaPods/CocoaPods/releases/tag/1.3.1</span><br><span class="line">[23:04:01]: â–¸ Validating podspec</span><br><span class="line">[23:04:29]: â–¸ -&gt; FastlanePodspecDemo (0.1.3)</span><br><span class="line">[23:04:29]: â–¸ - WARN | summary: The summary is not meaningful.</span><br><span class="line">[23:04:29]: â–¸ - WARN | description: The description is equal to the summary.</span><br><span class="line">[23:04:29]: â–¸ - WARN | [iOS] license: Unable to find a license file</span><br><span class="line">[23:04:29]: â–¸ Updating spec repo master</span><br><span class="line">[23:05:45]: â–¸ CocoaPods 1.3.1 is available.</span><br><span class="line">[23:05:45]: â–¸ To update use: sudo gem install cocoapods</span><br><span class="line">[23:05:45]: â–¸ For more information, see https://blog.cocoapods.org and the CHANGELOG for this version at https://github.com/CocoaPods/CocoaPods/releases/tag/1.3.1</span><br><span class="line">[23:05:46]: â–¸ --------------------------------------------------------------------------------</span><br><span class="line">[23:05:46]: â–¸ ğŸ‰ Congrats</span><br><span class="line">[23:05:46]: â–¸ ğŸš€ FastlanePodspecDemo (0.1.3) successfully published</span><br><span class="line">[23:05:46]: â–¸ ğŸ“… September 3rd, 09:04</span><br><span class="line">[23:05:46]: â–¸ ğŸŒ https://cocoapods.org/pods/FastlanePodspecDemo</span><br><span class="line">[23:05:46]: â–¸ ğŸ‘ Tell your friends!</span><br><span class="line">[23:05:46]: â–¸ --------------------------------------------------------------------------------</span><br><span class="line">[23:05:46]: Successfully pushed Podspec â¬†ï¸</span><br><span class="line">[23:05:46]: push success, current version is 0.1.3</span><br><span class="line"></span><br><span class="line">+------+-------------------------------------+-------------+</span><br><span class="line">| fastlane summary |</span><br><span class="line">+------+-------------------------------------+-------------+</span><br><span class="line">| Step | Action | Time (in s) |</span><br><span class="line">+------+-------------------------------------+-------------+</span><br><span class="line">| 1 | Verifying required fastlane version | 0 |</span><br><span class="line">| 2 | default_platform | 0 |</span><br><span class="line">| 3 | git_pull | 3 |</span><br><span class="line">| 4 | ensure_git_branch | 0 |</span><br><span class="line">| 5 | pod_spec_lint | 13 |</span><br><span class="line">| 6 | version_bump_podspec | 0 |</span><br><span class="line">| 7 | git_add | 0 |</span><br><span class="line">| 8 | git_commit | 5 |</span><br><span class="line">| 9 | push_to_git_remote | 7 |</span><br><span class="line">| 10 | add_git_tag | 0 |</span><br><span class="line">| 11 | push_git_tags | 7 |</span><br><span class="line">| 12 | pod_push | 425 |</span><br><span class="line">+------+-------------------------------------+-------------+</span><br><span class="line"></span><br><span class="line">[23:05:46]: fastlane.tools just saved you 8 minutes! ğŸ‰</span><br></pre></td></tr></table></figure>
<h3 id="åˆ¶ä½œ-Plugin"><a href="#åˆ¶ä½œ-Plugin" class="headerlink" title="åˆ¶ä½œ Plugin"></a>åˆ¶ä½œ Plugin</h3><p>è¿™ä¸€éƒ¨åˆ†æˆ‘å¹¶æ²¡æœ‰å®ç°é€šï¼Œæˆ‘åœ¨æ³¨å†Œ <code>RubyGems</code> çš„è´¦å·æ—¶é‚®ç®±éªŒè¯è¿‡ä¹‹åè¿˜æ˜¯ä¸èƒ½ç™»å½•ï¼Œæç¤ºæœªéªŒè¯â€¦.ä¸çŸ¥é“ä»€ä¹ˆåŸå› ï¼Œæœ‰é‡åˆ°è§£å†³äº†çš„ï¼Œéº»çƒ¦ç•™è¨€å‘Šè¯‰æˆ‘ä¸€ä¸‹ã€‚ä¸‹é¢æ˜¯å¯¹å®˜æ–¹çš„ Plugin åˆ¶ä½œçš„è§£é‡Šï¼š</p>
<p>åˆ›å»ºå¥½ç›®å½•ä¹‹åï¼Œè¿è¡Œ</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastlane new_plugin [plugin_name]</span><br></pre></td></tr></table></figure>
<p>fastlane ä¼šåˆ›å»ºä¸€ä¸ªæœ‰æ•ˆçš„ Ruby gem çš„æ–‡ä»¶ç»“æ„ï¼Œç„¶åä½ ç¼–è¾‘ <code>lib/fastlane/plugin/[plugin_name]/actions/[plugin_name].rb</code> å»å®ç°ä½ çš„ action ï¼ŒæŠŠä¸Šé¢è‡ªå®šä¹‰çš„ action çš„å†…å®¹æ‹·è´åˆ°é‡Œé¢ï¼Œç„¶åæŠŠåˆ›å»ºå‡ºæ¥çš„æ–‡ä»¶æ¨åˆ°ä½ çš„ Github ä»“åº“ï¼Œæ›´æ–° <code>fastlane-plugin-[plugin_name].gemspec</code> æ–‡ä»¶æ¥æŒ‡å‘ä½ çš„ä»“åº“ï¼Œæœ€åè¿è¡Œ</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bundle install</span><br><span class="line">rake install</span><br><span class="line">rake release</span><br></pre></td></tr></table></figure>
<p>ok~å¤§åŠŸå‘Šæˆï¼Œç°åœ¨ä½ å¯ä»¥è¿è¡Œ <code>fastlane add_plugin [plugin_name]</code> å®‰è£…ä½¿ç”¨ä½ çš„ Plugin äº†ã€‚</p>
</div></article></div></main><footer><div class="paginator"><a href="/2017/09/24/https/" class="prev">PREV</a><a href="/2017/09/09/debug-tool-base-on-NSURLProtocol/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'zeeyang';
var disqus_identifier = '2017/09/09/fastlane-pod-spec-upgrade/';
var disqus_title = 'ç”¨ Fastlane å‡çº§ç§æœ‰ Pod åº“';
var disqus_url = 'http://yuzeyang.github.io/2017/09/09/fastlane-pod-spec-upgrade/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//zeeyang.disqus.com/count.js" async></script><div class="copyright"><p>Â© 2015 - 2018 <a href="http://yuzeyang.github.io">å®«åŸ</a>, Talk is cheap, show me the code. <p>Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a></p></p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>